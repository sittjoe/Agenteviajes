<!DOCTYPE html>
<html lang="es-MX">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#1e3c72">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Magia Disney & Royal</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/logo.png">
    <link rel="apple-touch-icon" href="assets/logo.png">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/premium.css">
    <link rel="stylesheet" href="css/print.css" media="print">
</head>

<body>
    <header class="header">
        <img src="assets/logo-premium.jpg" alt="Logo" class="header-logo" onerror="this.style.display='none'">
        <div class="header-title">
            <h1>Magia Disney & Royal</h1>
            <span>Parques â€¢ Cruceros â€¢ Descuentos</span>
        </div>
        <div class="header-actions">
            <button class="header-btn" onclick="App.toggleDarkMode()" title="Modo oscuro">ğŸŒ™</button>
        </div>
    </header>

    <main class="main-content">
        <!-- TAB: INICIO -->
        <div id="tab-inicio" class="tab-content active">
            <div id="home-main" class="screen active">
                <div class="experience-grid">
                    <div class="hero-panel card-glass">
                        <div class="hero-eyebrow">Suite premium de atenciÃ³n</div>
                        <h2>Todo listo para impresionar a tus viajeros</h2>
                        <p>Scripts curados, seguimiento impecable y cotizaciones listas para compartirse en minutos.
                        </p>
                        <div class="hero-actions">
                            <button class="btn-primary btn-sm" onclick="App.showTab('cotizar')">Crear cotizaciÃ³n</button>
                            <button class="btn-secondary btn-sm"
                                onclick="document.getElementById('globalSearch').focus()">Buscar guiones</button>
                        </div>
                        <div class="hero-pills">
                            <span class="pill">Respuestas listas</span>
                            <span class="pill">Seguimiento elegante</span>
                            <span class="pill">Modo oscuro</span>
                        </div>
                    </div>
                    <div class="hero-metrics card">
                        <div class="metric">
                            <span class="metric-label">CuradurÃ­a</span>
                            <div class="metric-value">+80 guiones</div>
                            <div class="metric-sub">Listos para copiar y pegar</div>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Cotizaciones</span>
                            <div class="metric-value">Workflow 24/7</div>
                            <div class="metric-sub">PrevisualizaciÃ³n instantÃ¡nea</div>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Operativa</span>
                            <div class="metric-value">CRM ligero</div>
                            <div class="metric-sub">Clientes y pipeline</div>
                        </div>
                    </div>
                </div>

                <div class="search-container">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" id="globalSearch" class="search-input" placeholder="Buscar respuestas..."
                        oninput="App.handleSearch()" onfocus="App.showSearchResults()" onblur="App.hideSearchResults()">
                    <div id="searchResults" class="search-results"></div>
                </div>
                <div class="quick-grid">
                    <div class="quick-btn" onclick="App.showResponse('saludo')"><span class="emoji">ğŸ‘‹</span><span
                            class="label">Saludar</span></div>
                    <div class="quick-btn" onclick="App.showResponse('pedir_datos')"><span class="emoji">ğŸ“‹</span><span
                            class="label">Pedir datos</span></div>
                    <div class="quick-btn" onclick="App.showResponse('precio_caro')"><span class="emoji">ğŸ’¸</span><span
                            class="label">"EstÃ¡ caro"</span></div>
                    <div class="quick-btn" onclick="App.showResponse('plan_pagos')"><span class="emoji">ğŸ’³</span><span
                            class="label">Plan pagos</span></div>
                    <div class="quick-btn" onclick="App.showResponse('no_contesta')"><span class="emoji">ğŸ””</span><span
                            class="label">No contesta</span></div>
                    <div class="quick-btn" onclick="App.showResponse('cerrar')"><span class="emoji">âœ…</span><span
                            class="label">Cerrar venta</span></div>
                </div>
                <div id="favorites-section" class="section" style="display:none;">
                    <div class="section-header"><span class="section-title">â­ Favoritos</span></div>
                    <div id="favorites-list"></div>
                </div>
                <div id="recents-section" class="section" style="display:none;">
                    <div class="section-header"><span class="section-title">ğŸ• Recientes</span></div>
                    <div id="recents-list"></div>
                </div>
                <div class="section">
                    <div class="section-header"><span class="section-title">ğŸ“Š Etapa del cliente</span></div>
                    <div class="stage-grid">
                        <div class="stage-btn" onclick="App.showStage('nuevo')"><span class="icon">ğŸ†•</span>
                            <div class="content">
                                <div class="title">Cliente nuevo</div>
                                <div class="subtitle">Primer contacto</div>
                            </div><span class="arrow">â†’</span>
                        </div>
                        <div class="stage-btn" onclick="App.showStage('preguntando')"><span class="icon">ğŸ’¬</span>
                            <div class="content">
                                <div class="title">Preguntando</div>
                                <div class="subtitle">Dudas, informaciÃ³n</div>
                            </div><span class="arrow">â†’</span>
                        </div>
                        <div class="stage-btn" onclick="App.showStage('cotizado')"><span class="icon">ğŸ“‹</span>
                            <div class="content">
                                <div class="title">Ya cotizado</div>
                                <div class="subtitle">Objeciones, seguimiento</div>
                            </div><span class="arrow">â†’</span>
                        </div>
                        <div class="stage-btn" onclick="App.showStage('cerrar')"><span class="icon">âœ…</span>
                            <div class="content">
                                <div class="title">Cerrar venta</div>
                                <div class="subtitle">ConfirmaciÃ³n</div>
                            </div><span class="arrow">â†’</span>
                        </div>
                        <div class="stage-btn" onclick="App.showStage('postventa')"><span class="icon">ğŸ‰</span>
                            <div class="content">
                                <div class="title">Post-venta</div>
                                <div class="subtitle">Seguimiento, referidos</div>
                            </div><span class="arrow">â†’</span>
                        </div>
                    </div>
                </div>
            </div>
            <div id="home-stage" class="screen">
                <div class="back-row"><button class="back-btn" onclick="App.backToHome()">â† Volver</button>
                    <h2 id="stage-title" class="screen-title"></h2>
                </div>
                <div id="situations-list"></div>
            </div>
            <div id="home-response" class="screen">
                <div class="back-row"><button class="back-btn" onclick="App.backToStage()">â† Volver</button></div>
                <div id="response-breadcrumb" class="breadcrumb"></div>
                <div id="response-content"></div>
            </div>
        </div>

        <!-- TAB: COTIZAR -->
        <div id="tab-cotizar" class="tab-content">
            <div id="quotes-list" class="screen active">
                <div class="section-header" style="margin-bottom:16px;">
                    <h2 style="font-size:20px;font-weight:700;">ğŸ“ Cotizaciones</h2><button class="btn-primary btn-sm"
                        onclick="App.showNewQuote()">â• Nueva</button>
                </div>
                <div class="search-container" style="margin-bottom:16px;"><span class="search-icon">ğŸ”</span><input
                        type="text" id="quoteSearch" class="search-input" placeholder="Buscar por cliente..."
                        oninput="App.filterQuotes()"></div>
                <div id="quotes-list-container"></div>
            </div>
            <div id="quote-form" class="screen">
                <div class="back-row"><button class="back-btn" onclick="App.showQuotesList()">â† Volver</button>
                    <h2 id="quote-form-title" class="screen-title">ğŸ“ Nueva CotizaciÃ³n</h2>
                </div>
                <div id="quote-preview" class="quote-preview">
                    <p class="preview-empty">Llena los campos para ver la vista previa...</p>
                </div>
                <div class="form-group"><label class="form-label">NÃºmero</label><input type="text" id="quote-id"
                        class="form-input" readonly style="background:var(--bg-alt);"></div>
                <div class="card">
                    <div class="card-title">ğŸ‘¤ Cliente</div>
                    <div class="form-group"><label class="form-label required">Nombre</label><input type="text"
                            id="quote-client-name" class="form-input" placeholder="Familia GarcÃ­a"
                            oninput="App.markQuoteChanged();App.updateQuotePreview()"></div>
                    <div class="form-row">
                        <div class="form-group"><label class="form-label">TelÃ©fono</label><input type="tel"
                                id="quote-client-phone" class="form-input" placeholder="55 1234 5678"
                                oninput="App.markQuoteChanged()"></div>
                        <div class="form-group"><label class="form-label">Email</label><input type="email"
                                id="quote-client-email" class="form-input" placeholder="email@ejemplo.com"
                                oninput="App.markQuoteChanged()"></div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">âœˆï¸ Viaje</div>
                    <div class="form-row">
                        <div class="form-group"><label class="form-label">Tipo</label><select id="quote-type"
                                class="form-select" onchange="App.markQuoteChanged();App.updateQuotePreview()">
                                <option value="crucero-disney">ğŸš¢ Crucero Disney</option>
                                <option value="crucero-royal">âš“ Royal Caribbean</option>
                                <option value="parques-wdw">ğŸ° Disney World</option>
                                <option value="parques-dl">ğŸ¢ Disneyland</option>
                                <option value="hotel-disney">ğŸ¨ Hotel Disney</option>
                                <option value="paquete">ğŸ“¦ Paquete</option>
                                <option value="otro">âœˆï¸ Otro</option>
                            </select></div>
                        <div class="form-group"><label class="form-label">Estado</label><select id="quote-status"
                                class="form-select" onchange="App.markQuoteChanged()">
                                <option value="draft">ğŸ“ Borrador</option>
                                <option value="sent">ğŸ“¤ Enviada</option>
                                <option value="negotiating">ğŸ’¬ Negociando</option>
                                <option value="accepted">âœ… Aceptada</option>
                                <option value="rejected">âŒ Rechazada</option>
                            </select></div>
                    </div>
                    <div class="form-group"><label class="form-label required">Producto / Destino</label><input
                            type="text" id="quote-product" class="form-input"
                            placeholder="Disney Wish - Bahamas 4 noches"
                            oninput="App.markQuoteChanged();App.updateQuotePreview()"></div>
                    <div class="form-row">
                        <div class="form-group"><label class="form-label">Fecha salida</label><input type="date"
                                id="quote-date-start" class="form-input"
                                oninput="App.markQuoteChanged();App.updateQuotePreview()"></div>
                        <div class="form-group"><label class="form-label">Fecha regreso</label><input type="date"
                                id="quote-date-end" class="form-input"
                                oninput="App.markQuoteChanged();App.updateQuotePreview()"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Adultos</label>
                            <select id="quote-adults" class="form-select"
                                onchange="App.markQuoteChanged();App.updateQuotePreview()">
                                <option value="1">1</option>
                                <option value="2" selected>2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">NiÃ±os</label>
                            <select id="quote-children" class="form-select"
                                onchange="App.markQuoteChanged();App.updateQuotePreview();App.updateChildrenAges()">
                                <option value="0" selected>0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group"><label class="form-label">QuÃ© incluye</label><textarea id="quote-includes"
                            class="form-textarea" placeholder="Hospedaje&#10;Boletos&#10;Transporte"
                            oninput="App.markQuoteChanged()"></textarea></div>
                    <div class="form-group"><label class="form-label">QuÃ© NO incluye</label><textarea
                            id="quote-excludes" class="form-textarea" placeholder="Vuelos&#10;Comidas&#10;Propinas"
                            oninput="App.markQuoteChanged()"></textarea></div>
                </div>
                <div class="card">
                    <div class="card-title">ğŸ’° InversiÃ³n</div>
                    <div class="form-row">
                        <div class="form-group"><label class="form-label required">Total (USD)</label><input
                                type="number" id="quote-total" class="form-input" placeholder="3500"
                                oninput="App.markQuoteChanged();App.calculateMonthly()"></div>
                        <div class="form-group"><label class="form-label">Apartado</label><input type="number"
                                id="quote-deposit" class="form-input" placeholder="200"
                                oninput="App.markQuoteChanged();App.calculateMonthly()"></div>
                    </div>
                    <div class="form-group"><label class="form-label">Meses</label><input type="range" id="quote-months"
                            class="calc-slider" min="1" max="12" value="6"
                            oninput="App.markQuoteChanged();App.calculateMonthly()">
                        <div id="monthly-display" class="months-display">$0/mes</div>
                    </div>
                    <div id="children-ages-container"></div>
                    <div class="form-row">
                        <div class="form-group"><label class="form-label">Pago final</label><input type="date"
                                id="quote-deadline" class="form-input" oninput="App.markQuoteChanged()"></div>
                        <div class="form-group"><label class="form-label">VÃ¡lida hasta</label><input type="date"
                                id="quote-valid-until" class="form-input" oninput="App.markQuoteChanged()"></div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">ğŸ“ Notas</div>
                    <div class="form-group"><label class="form-label">Notas internas</label><textarea
                            id="quote-notes-internal" class="form-textarea" placeholder="Solo para ti..."
                            oninput="App.markQuoteChanged()"></textarea></div>
                    <div class="form-group"><label class="form-label">Notas cliente</label><textarea
                            id="quote-notes-client" class="form-textarea" placeholder="Para el cliente..."
                            oninput="App.markQuoteChanged()"></textarea></div>
                </div>
                <div class="action-row"><button class="btn-primary" onclick="App.saveQuote()">ğŸ’¾ Guardar</button><button
                        class="btn-secondary" onclick="App.generatePDF()">ğŸ“„ Exportar PDF</button><button
                        class="btn-secondary" onclick="App.copyQuoteText()">ğŸ“‹ Copiar</button></div>
            </div>
            <div id="quote-view" class="screen">
                <div class="back-row"><button class="back-btn" onclick="App.showQuotesList()">â† Volver</button></div>
                <div id="view-quote-content"></div>
                <div class="action-row"><button class="btn-whatsapp" onclick="App.sendQuoteWhatsApp()">ğŸ’¬
                        WhatsApp</button><button class="btn-secondary" onclick="App.copyCurrentQuoteText()">ğŸ“‹
                        Copiar</button></div>
                <div class="action-row"><button class="btn-primary" onclick="App.generatePDF()">ğŸ“„ Exportar PDF</button><button
                        class="btn-secondary" onclick="App.editQuote(App.state.viewingQuoteId)">âœï¸
                        Editar</button><button class="btn-secondary" onclick="App.duplicateQuote()">ğŸ“‹ Duplicar</button>
                </div>
                <div class="action-row"><button class="btn-danger btn-sm" onclick="App.deleteQuote()">ğŸ—‘ï¸
                        Eliminar</button></div>
            </div>
        </div>

        <!-- TAB: INFO -->
        <div id="tab-info" class="tab-content">
            <h2 style="font-size:20px;font-weight:700;margin-bottom:16px;">ğŸ“š InformaciÃ³n</h2>
            <div class="info-card">
                <div class="info-card-header" onclick="App.toggleInfoCard(this)"><span class="icon">ğŸš¢</span><span
                        class="title">Disney Cruise Line</span><span class="arrow">â–¼</span></div>
                <div class="info-card-body">
                    <div class="info-section">
                        <div class="info-section-title">ğŸš¢ Barcos</div>
                        <div class="info-section-content"><b>Wish</b> (2022), <b>Treasure</b> (2024), Fantasy, Dream,
                            Magic</div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">ğŸ’° Precios</div>
                        <div class="info-section-content">Desde <b>$1,500/persona</b> hasta $5,000+ USD</div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">âœ… Incluye</div>
                        <div class="info-section-content">Comidas, refrescos, shows, clubs niÃ±os, Castaway Cay</div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">âŒ No incluye</div>
                        <div class="info-section-content">Alcohol, excursiones, wifi, propinas ($14.50/noche)</div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">ğŸ’³ Pagos</div>
                        <div class="info-section-content">Apartado $200 â€¢ Pago final 120 dÃ­as antes</div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">ğŸ“” GuÃ­as de viaje por barco</div>
                        <div class="info-section-content">
                            <b>Disney Wish:</b> Bahamas 3-4 noches desde Puerto CaÃ±averal; reserva Arendelle y Worlds of Marble primeros dÃ­as.
                            <br><b>Disney Treasure:</b> Caribe desde Puerto CaÃ±averal/Miami; ideal rotar cenas temÃ¡ticas para ver todos los shows.
                            <br><b>Disney Dream:</b> Caribe y Europa; llega temprano a Castaway Cay para playas menos llenas.
                            <br><b>Disney Fantasy:</b> Caribe oriental y occidental 7 noches; separa dÃ­a en alta mar para disfraces de Pirate Night.
                            <br><b>Disney Magic:</b> MediterrÃ¡neo y Alaska; lleva abrigo ligero para noches en cubierta y aprovecha Rapunzelâ€™s Royal Table.
                            <br><b>Disney Wonder:</b> Alaska y Riviera Mexicana; reserva Palo en dÃ­a de navegaciÃ³n y haz check-in para personajes Marvel/Princess Gathering.
                        </div>
                    </div>
                </div>
            </div>
            <div class="info-card">
                <div class="info-card-header" onclick="App.toggleInfoCard(this)"><span class="icon">âš“</span><span
                        class="title">Royal Caribbean</span><span class="arrow">â–¼</span></div>
                <div class="info-card-body">
                    <div class="info-section">
                        <div class="info-section-title">ğŸš¢ Barcos</div>
                        <div class="info-section-content"><b>Icon of the Seas</b> (el mÃ¡s grande), Oasis Class, Quantum
                        </div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">ğŸ’° Precios</div>
                        <div class="info-section-content">Desde <b>$400/persona</b> hasta $3,000+ USD</div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">ğŸ Kids Sail Free</div>
                        <div class="info-section-content">3er y 4to pasajero GRATIS (ahorro $800-1,500)</div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">âŒ No incluye</div>
                        <div class="info-section-content">Refrescos ($15/dÃ­a), alcohol, propinas ($16-18.50/noche)</div>
                    </div>
                </div>
            </div>
            <div class="info-card">
                <div class="info-card-header" onclick="App.toggleInfoCard(this)"><span class="icon">ğŸ°</span><span
                        class="title">Parques Disney</span><span class="arrow">â–¼</span></div>
                <div class="info-card-body">
                    <div class="info-section">
                        <div class="info-section-title">ğŸ° Disney World</div>
                        <div class="info-section-content">4 parques: Magic Kingdom, EPCOT, Hollywood Studios, Animal
                            Kingdom</div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">ğŸ’° Precios</div>
                        <div class="info-section-content">Boletos desde <b>$109/dÃ­a</b>. Paquete familia 4: $2,000-2,500
                        </div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">ğŸ“… Mejor Ã©poca</div>
                        <div class="info-section-content"><b>IDEAL:</b> Septiembre, enero, febrero. <b>EVITAR:</b>
                            Semana Santa, verano, Navidad</div>
                    </div>
                </div>
            </div>
            <div class="info-card">
                <div class="info-card-header" onclick="App.toggleInfoCard(this)"><span class="icon">ğŸ’¡</span><span
                        class="title">Tips de Venta</span><span class="arrow">â–¼</span></div>
                <div class="info-card-body">
                    <div class="info-section">
                        <div class="info-section-title">ğŸ’¸ "EstÃ¡ caro"</div>
                        <div class="info-section-content">â€¢ NUNCA justifiques<br>â€¢ EnfÃ³cate en soluciones<br>â€¢ "Â¿QuÃ© te
                            funcionarÃ­a mejor?"</div>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">ğŸ¤ Tu valor</div>
                        <div class="info-section-content">Mismo precio â€¢ Monitoreas bajadas â€¢ Soporte siempre â€¢
                            <b>"Mismo precio, cero estrÃ©s"</b>
                        </div>
                    </div>
                </div>
            </div>
            <div class="wdw-guide-card">
                <div class="wdw-guide-header">
                    <div>
                        <p class="wdw-guide-kicker">GuÃ­a exprÃ©s, visual e interactiva</p>
                        <h3>Plan maestro para cada parque de Walt Disney World</h3>
                        <p class="wdw-guide-sub">Elige un parque y obtÃ©n atracciones imperdibles, estrategia de Lightning Lane,
                            snacks y un recorrido de dÃ­a perfecto.</p>
                    </div>
                    <div class="wdw-guide-badges">
                        <span>ğŸŒ… Rope drop</span>
                        <span>âš¡ Lightning Lane</span>
                        <span>ğŸ¦ Snacks icÃ³nicos</span>
                    </div>
                </div>
                <div class="wdw-selector" id="wdw-park-selector"></div>
                <div id="wdw-park-detail" class="wdw-park-detail"></div>
            </div>
        </div>

        <!-- TAB: TOOLS -->
        <div id="tab-tools" class="tab-content">
            <h2 style="font-size:20px;font-weight:700;margin-bottom:16px;">ğŸ§® Herramientas</h2>
            <div class="calculator">
                <h3 style="font-size:16px;font-weight:600;margin-bottom:16px;">ğŸ’° Calculadora de pagos</h3>
                <div class="form-row">
                    <div class="form-group"><label class="form-label">Total (USD)</label><input type="number"
                            id="calc-total" class="form-input" placeholder="3500" oninput="App.calculatePayment()">
                    </div>
                    <div class="form-group"><label class="form-label">Apartado</label><input type="number"
                            id="calc-deposit" class="form-input" placeholder="200" oninput="App.calculatePayment()">
                    </div>
                </div>
                <div class="form-group"><label class="form-label">Meses</label><input type="range" id="calc-months"
                        class="calc-slider" min="1" max="12" value="6" oninput="App.calculatePayment()">
                    <div id="calc-months-label" class="months-display">6 meses</div>
                </div>
                <div class="calc-result-box">
                    <div id="calc-result" class="calc-result">$0</div>
                    <div class="calc-result-label">por mes</div>
                </div>
                <button class="btn-success btn-block" onclick="App.copyCalcResult()">ğŸ“‹ Copiar plan</button>
            </div>
            <div class="checklist">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
                    <h3 style="font-size:16px;font-weight:600;">ğŸ“‹ Checklist datos</h3><button
                        class="btn-secondary btn-sm" onclick="App.resetChecklist()">ğŸ”„</button>
                </div>
                <div class="checklist-item" data-id="names" onclick="App.toggleCheckItem(this)">
                    <div class="checkbox">âœ“</div><span class="checklist-text">Nombres completos</span>
                </div>
                <div class="checklist-item" data-id="birthdays" onclick="App.toggleCheckItem(this)">
                    <div class="checkbox">âœ“</div><span class="checklist-text">Fechas nacimiento</span>
                </div>
                <div class="checklist-item" data-id="email" onclick="App.toggleCheckItem(this)">
                    <div class="checkbox">âœ“</div><span class="checklist-text">Email</span>
                </div>
                <div class="checklist-item" data-id="phone" onclick="App.toggleCheckItem(this)">
                    <div class="checkbox">âœ“</div><span class="checklist-text">TelÃ©fono</span>
                </div>
                <div class="checklist-item" data-id="passport" onclick="App.toggleCheckItem(this)">
                    <div class="checkbox">âœ“</div><span class="checklist-text">Pasaporte</span>
                </div>
                <div class="checklist-item" data-id="passportExp" onclick="App.toggleCheckItem(this)">
                    <div class="checkbox">âœ“</div><span class="checklist-text">Vencimiento pasaporte</span>
                </div>
                <button class="btn-secondary btn-block btn-sm" style="margin-top:12px;" onclick="App.copyChecklist()">ğŸ“‹
                    Copiar pendientes</button>
            </div>
            <div class="card">
                <div class="card-title">ğŸ“Š EstadÃ­sticas</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div id="stat-total-quotes" class="stat-value">0</div>
                        <div class="stat-label">Cotizaciones</div>
                    </div>
                    <!-- Pipeline View -->
                    <div id="view-pipeline" class="view-section" style="display: none;">
                        <div class="crm-header">
                            <h2>Pipeline de Ventas</h2>
                            <div class="pipeline-filters">
                                <select id="pipeline-filter-date" class="form-select-sm">
                                    <option value="all">Todo el tiempo</option>
                                    <option value="month">Este mes</option>
                                </select>
                            </div>
                        </div>
                        <div id="quotes-list" class="quotes-list">
                            <!-- Quotes rendered here -->
                        </div>

                        <!-- Quote Detail View -->
                        <div id="quote-view" class="screen">
                            <div class="back-row">
                                <button class="back-btn" onclick="App.showQuotesList()">
                                    <span>â†</span> Volver
                                </button>
                                <div class="screen-title">Detalle de CotizaciÃ³n</div>
                                <button class="btn-primary btn-sm" onclick="window.print()">ğŸ–¨ï¸ PDF</button>
                            </div>
                            <div id="quote-detail-content"></div>
                        </div>
                    </div>
                </div>

                <!-- CRM View -->
                <div id="view-crm" class="view-section" style="display: none;">
                    <div class="crm-header">
                        <h2>ğŸ‘¥ Clientes</h2>
                        <button class="btn-primary btn-sm" onclick="CRM_UI.showAddClientModal()">â• Nuevo</button>
                    </div>
                    <div class="search-container" style="margin-bottom:16px;">
                        <span class="search-icon">ğŸ”</span>
                        <input type="text" id="clientSearch" class="search-input" placeholder="Buscar clientes..."
                            oninput="CRM_UI.renderClientList(this.value)">
                    </div>
                    <div id="client-list-container" class="client-list"></div>
                </div>

                <!-- Analytics View -->
                <div id="view-analytics" class="view-section" style="display: none;">
                    <div class="crm-header">
                        <h2>Analytics & Reportes</h2>
                        <div class="date-range">
                            <select id="analytics-period" class="form-select-sm"
                                onchange="Analytics_UI.renderDashboard()">
                                <option value="month">Este Mes</option>
                                <option value="quarter">Este Trimestre</option>
                                <option value="year">Este AÃ±o</option>
                            </select>
                        </div>
                    </div>

                    <div class="analytics-grid">
                        <!-- KPI Cards -->
                        <div class="kpi-card">
                            <div class="kpi-label">Ventas Totales</div>
                            <div class="kpi-value" id="kpi-total-sales">$0</div>
                            <div class="kpi-trend positive">â†‘ 12% vs mes anterior</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">Cotizaciones</div>
                            <div class="kpi-value" id="kpi-total-quotes">0</div>
                            <div class="kpi-trend neutral">-- vs mes anterior</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">Tasa de Cierre</div>
                            <div class="kpi-value" id="kpi-conversion">0%</div>
                            <div class="kpi-trend positive">â†‘ 2% vs mes anterior</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">Comisiones Est.</div>
                            <div class="kpi-value" id="kpi-commissions">$0</div>
                            <div class="kpi-trend positive">â†‘ 8% vs mes anterior</div>
                        </div>

                        <!-- Charts -->
                        <div class="chart-container wide">
                            <h3>Tendencia de Ventas</h3>
                            <canvas id="salesChart"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>Destinos Top</h3>
                            <canvas id="destinationsChart"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>Fuentes de Leads</h3>
                            <canvas id="leadsChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <div id="stat-accepted" class="stat-value">0</div>
                <div class="stat-label">Aceptadas</div>
            </div>
            <div class="stat-card">
                <div id="stat-conversion" class="stat-value">0%</div>
                <div class="stat-label">ConversiÃ³n</div>
            </div>
            <div class="stat-card">
                <div id="stat-pending" class="stat-value">0</div>
                <div class="stat-label">Pendientes</div>
            </div>
        </div>
        <div class="chart-container">
            <div class="chart-title">Por estado</div>
            <div id="status-chart"></div>
        </div>
        <div class="chart-container">
            <div class="chart-title">Por producto</div>
            <div id="type-chart"></div>
        </div>
        </div>
        </div>

        <!-- TAB: AJUSTES -->
        <div id="tab-ajustes" class="tab-content">
            <h2 style="font-size:20px;font-weight:700;margin-bottom:16px;">âš™ï¸ Ajustes</h2>
            <div class="config-section">
                <div class="config-section-title">ğŸ‘¤ Mis datos</div>
                <div class="form-group"><label class="form-label">WhatsApp</label><input type="tel" id="config-phone"
                        class="form-input" placeholder="55 8095 5139"></div>
                <div class="form-group"><label class="form-label">Email</label><input type="email" id="config-email"
                        class="form-input" placeholder="tu@email.com"></div>
                <div class="form-row">
                    <div class="form-group"><label class="form-label">Instagram</label><input type="text"
                            id="config-instagram" class="form-input" placeholder="@usuario"></div>
                    <div class="form-group"><label class="form-label">Facebook</label><input type="text"
                            id="config-facebook" class="form-input" placeholder="PÃ¡gina"></div>
                </div>
            </div>
            <div class="config-section">
                <div class="config-section-title">ğŸ“ Cotizaciones</div>
                <div class="form-row">
                    <div class="form-group"><label class="form-label">Prefijo</label><input type="text"
                            id="config-prefix" class="form-input" placeholder="MDR" maxlength="5"></div>
                    <div class="form-group"><label class="form-label">Validez</label><select id="config-validity"
                            class="form-select">
                            <option value="3">3 dÃ­as</option>
                            <option value="5">5 dÃ­as</option>
                            <option value="7" selected>7 dÃ­as</option>
                            <option value="10">10 dÃ­as</option>
                        </select></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label class="form-label">Moneda</label><select id="config-currency"
                            class="form-select">
                            <option value="USD">USD</option>
                            <option value="MXN">MXN</option>
                        </select></div>
                    <div class="form-group"><label class="form-label">Tipo cambio</label><input type="number"
                            id="config-exchange" class="form-input" placeholder="17.5" step="0.1"></div>
                </div>
                <div class="form-group"><label class="form-label">Texto legal</label><textarea id="config-legal"
                        class="form-textarea" placeholder="Precios sujetos a disponibilidad..."></textarea></div>
            </div>
            <div class="config-section">
                <div class="config-section-title">ğŸ¨ Apariencia</div>
                <div class="toggle-row"><span class="toggle-label">Modo oscuro</span><label class="toggle"><input
                            type="checkbox" id="config-darkmode" onchange="App.toggleDarkMode()"><span
                            class="toggle-slider"></span></label></div>
            </div>
            <button class="btn-primary btn-block" onclick="App.saveConfig()">ğŸ’¾ Guardar</button>
            <div class="config-section" style="margin-top:24px;">
                <div class="config-section-title">ğŸ“¤ Datos</div>
                <div class="action-row"><button class="btn-secondary" onclick="App.exportAllData()">ğŸ“¤
                        Exportar</button><label class="btn-secondary" style="cursor:pointer;">ğŸ“¥ Importar<input
                            type="file" accept=".json" onchange="App.importData(event)" style="display:none;"></label>
                </div><button class="btn-danger btn-block" style="margin-top:12px;" onclick="App.clearAllData()">ğŸ—‘ï¸
                    Borrar datos</button>
            </div>
        </div>
    </main>

    <nav class="bottom-nav">
        <button class="nav-item active" data-tab="inicio" onclick="App.showTab('inicio', this)"><span
                class="icon">ğŸ </span><span>Inicio</span></button>
        <button class="nav-item" data-tab="cotizar" onclick="App.showTab('cotizar', this)"><span
                class="icon">ğŸ“</span><span>Cotizar</span></button>
        <button class="nav-item" data-tab="tools" onclick="App.switchTab('pipeline'); App.showTab('tools', this)">
            <span class="icon">ğŸ“Š</span>
            <span>Pipeline</span>
        </button>
        <button class="nav-item" data-tab="tools" onclick="App.switchTab('crm'); App.showTab('tools', this)">
            <span class="icon">ğŸ‘¥</span>
            <span>Clientes</span>
        </button>
        <button class="nav-item" data-tab="ajustes" onclick="App.showTab('ajustes', this)"><span
                class="icon">âš™ï¸</span><span>Ajustes</span></button>
    </nav>

    <div id="toast" class="toast"></div>

    <div id="modal-overlay" class="modal-overlay" onclick="if(event.target===this)App.closeModal()">
        <div class="modal">
            <div id="modal-title" class="modal-title"></div>
            <div id="modal-body" class="modal-body"></div>
            <div class="modal-actions"><button class="btn-secondary" onclick="App.closeModal()">Cancelar</button><button
                    id="modal-confirm" class="btn-danger">Confirmar</button></div>
        </div>
    </div>

    <div id="onboarding-overlay" class="onboarding-overlay">
        <div class="onboarding-card">
            <div class="emoji">âœ¨</div>
            <h2>Â¡Bienvenido!</h2>
            <p>Tu asistente de ventas para Disney y Royal Caribbean</p>
            <div class="onboarding-features">
                <div class="onboarding-feature"><span class="icon">ğŸ’¬</span><span>Respuestas listas</span></div>
                <div class="onboarding-feature"><span class="icon">ğŸ“</span><span>Cotizaciones con PDF</span></div>
                <div class="onboarding-feature"><span class="icon">ğŸ“´</span><span>Funciona sin internet</span></div>
            </div><button class="btn-primary btn-block" onclick="App.completeOnboarding()">Â¡Empezar! ğŸš€</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/pdf-generator.js"></script>
    <script src="js/form-validation.js"></script>
    <script src="js/form-enhancer.js"></script>
    <script src="js/crm.js"></script>
    <script src="js/pipeline.js"></script>
    <script src="js/templates.js"></script>
    <script src="js/advanced-quotes.js"></script>
    <script src="js/analytics.js"></script>
    <script src="js/personalization.js"></script>
    <script src="js/pwa.js"></script>
    <script src="js/tools.js"></script>
    <script src="js/quotes.js"></script>
    <script src="js/data-manager.js"></script>
    <script src="js/ui-controller.js"></script>
    <script src="js/analytics-ui.js"></script>
</body>

</html>